
{% extends "govuk_template.html" %}
    {% block head %}
        <script src="{{asset_path}}javascripts/vendor/jquery.select-to-autocomplete.js"></script>
        <script src="{{asset_path}}javascripts/vendor/jsrender.min.js"></script>
        <script src="{{asset_path}}javascripts/country-picker.js"></script>
        <script src="{{asset_path}}javascripts/address-lookup.js"></script>

        {% raw %}

        <script id="address-template" type="text/x-jsrender">
            <li><a href="http://address.openregister.org/address/{{:address}}">
                    {{if property}}{{:property}},{{/if}}
                    {{if street}}{{:street}},{{/if}}
                    {{if town}}{{:town}},{{/if}}
                    {{if postcode}}{{:postcode}}{{/if}}</a></li>
        </script>

        <script id="country-template" type="text/x-jsrender">
          <option value="{{:country}}" data-alternative-spellings="{{:country}}">{{:name}}</option>
        </script>

        {% endraw %}

    {% endblock %}

{% block content %}

    <h1 class="heading-large">Example widgets built using registers</h1>

    <!-- country picker -->
    <div class="widget">
      <div class="row">
        <div class="columns-two-thirds">
          <h2 class="heading-medium">Country picker example</h2>
          <form class="form" id="country-form" id="country-lookup" method="POST"action="{{url_for('frontend.country')}}">
            <div class="form-group">
                <label class="form-label-bold" for="country-selector">Pick a country</label>
                <select name="country" id="country-selector" autofocus="autofocus" autocorrect="off" autocomplete="off" class="auto-suggest form-control">
                  <option value="" selected="selected">Select Country</option>
                </select>
            </div>
            <input type="submit" value="Submit" class="button">
          </form>
          <div class="about-panel">
            <p>This widget uses data from the <a href="{{country_register}}">Country Register</a></p>
          </div>
        </div><!--end cols -->
      </div><!--end row -->
    </div><!--end country picker -->

    <!-- address lookup -->
    <div class="widget">
      <div class="row">
        <div class="columns-two-thirds">
          <h2 class="heading-medium">Address lookup example</h2>
          <form id="address-lookup" class="form" method="post">
            <div class="form-group">
                <label class="form-label-bold" for="search">Find an address</label>
                <input type="text" id="search" class="form-control" name="search"/>
            </div>
            <input type="submit" value="Continue" class="button">
          </form>
          <p class='message'></p>
          <div id="address-selector" style="display: none">
            <h3 class="heading-small">Select your address</h3>
            <div id="address-wrapper">
              <ul id="addresses">
              </ul>
              <div id="address-not-found">
                 <p><a href="{{url_for('frontend.suggest_address')}}">The address is not in the list</a>
              </div>
            </div>
          </div>
          <div class="about-panel">
            <p>This widget uses data from the <a href="{{address_register}}">Address Register</a></p>
          </div>
        </div><!--end cols -->
      </div><!--end row -->
    </div><!--end address lookup-->

{% endblock %}
